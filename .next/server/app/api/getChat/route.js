"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/getChat/route";
exports.ids = ["app/api/getChat/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetChat%2Froute&page=%2Fapi%2FgetChat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetChat%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetChat%2Froute&page=%2Fapi%2FgetChat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetChat%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Sayak_Desktop_Sayak_Intelligent_tutor_system_Intelligent_tutor_system_Copy_app_api_getChat_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/getChat/route.ts */ \"(rsc)/./app/api/getChat/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/getChat/route\",\n        pathname: \"/api/getChat\",\n        filename: \"route\",\n        bundlePath: \"app/api/getChat/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Sayak\\\\Desktop\\\\Sayak\\\\Intelligent_tutor_system\\\\Intelligent_tutor_system - Copy\\\\app\\\\api\\\\getChat\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Sayak_Desktop_Sayak_Intelligent_tutor_system_Intelligent_tutor_system_Copy_app_api_getChat_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/getChat/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZXRDaGF0JTJGcm91dGUmcGFnZT0lMkZhcGklMkZnZXRDaGF0JTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZ2V0Q2hhdCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTYXlhayU1Q0Rlc2t0b3AlNUNTYXlhayU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSUyMC0lMjBDb3B5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNTYXlhayU1Q0Rlc2t0b3AlNUNTYXlhayU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSUyMC0lMjBDb3B5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3RTtBQUNySjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2xsYW1hLXR1dG9yLz9hZDdmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXFNheWFrXFxcXERlc2t0b3BcXFxcU2F5YWtcXFxcSW50ZWxsaWdlbnRfdHV0b3Jfc3lzdGVtXFxcXEludGVsbGlnZW50X3R1dG9yX3N5c3RlbSAtIENvcHlcXFxcYXBwXFxcXGFwaVxcXFxnZXRDaGF0XFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZXRDaGF0L3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2V0Q2hhdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ2V0Q2hhdC9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFNheWFrXFxcXERlc2t0b3BcXFxcU2F5YWtcXFxcSW50ZWxsaWdlbnRfdHV0b3Jfc3lzdGVtXFxcXEludGVsbGlnZW50X3R1dG9yX3N5c3RlbSAtIENvcHlcXFxcYXBwXFxcXGFwaVxcXFxnZXRDaGF0XFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9nZXRDaGF0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetChat%2Froute&page=%2Fapi%2FgetChat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetChat%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/getChat/route.ts":
/*!**********************************!*\
  !*** ./app/api/getChat/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration)\n/* harmony export */ });\n/* harmony import */ var _utils_TogetherAIStream__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/utils/TogetherAIStream */ \"(rsc)/./utils/TogetherAIStream.ts\");\n\nconst maxDuration = 60;\nasync function POST(request) {\n    let { messages } = await request.json();\n    try {\n        console.log(\"[getChat] Fetching answer stream from Together API\");\n        const payload = {\n            model: \"meta-llama/Meta-Llama-3.1-8B-Instruct-Turbo\",\n            messages,\n            stream: true\n        };\n        const stream = await (0,_utils_TogetherAIStream__WEBPACK_IMPORTED_MODULE_0__.TogetherAIStream)(payload);\n        return new Response(stream, {\n            headers: new Headers({\n                \"Cache-Control\": \"no-cache\"\n            })\n        });\n    } catch (e) {\n        return new Response(\"Error. Answer stream failed.\", {\n            status: 202\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2dldENoYXQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBR2tDO0FBRTNCLE1BQU1DLGNBQWMsR0FBRztBQUV2QixlQUFlQyxLQUFLQyxPQUFnQjtJQUN6QyxJQUFJLEVBQUVDLFFBQVEsRUFBRSxHQUFHLE1BQU1ELFFBQVFFLElBQUk7SUFFckMsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFDWixNQUFNQyxVQUFtQztZQUN2Q0MsT0FBTztZQUNQTDtZQUNBTSxRQUFRO1FBQ1Y7UUFDQSxNQUFNQSxTQUFTLE1BQU1WLHlFQUFnQkEsQ0FBQ1E7UUFFdEMsT0FBTyxJQUFJRyxTQUFTRCxRQUFRO1lBQzFCRSxTQUFTLElBQUlDLFFBQVE7Z0JBQ25CLGlCQUFpQjtZQUNuQjtRQUNGO0lBQ0YsRUFBRSxPQUFPQyxHQUFHO1FBQ1YsT0FBTyxJQUFJSCxTQUFTLGdDQUFnQztZQUFFSSxRQUFRO1FBQUk7SUFDcEU7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2xsYW1hLXR1dG9yLy4vYXBwL2FwaS9nZXRDaGF0L3JvdXRlLnRzPzUzYjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcclxuICBUb2dldGhlckFJU3RyZWFtLFxyXG4gIFRvZ2V0aGVyQUlTdHJlYW1QYXlsb2FkLFxyXG59IGZyb20gXCJAL3V0aWxzL1RvZ2V0aGVyQUlTdHJlYW1cIjtcclxuXHJcbmV4cG9ydCBjb25zdCBtYXhEdXJhdGlvbiA9IDYwO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gIGxldCB7IG1lc3NhZ2VzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKFwiW2dldENoYXRdIEZldGNoaW5nIGFuc3dlciBzdHJlYW0gZnJvbSBUb2dldGhlciBBUElcIik7XHJcbiAgICBjb25zdCBwYXlsb2FkOiBUb2dldGhlckFJU3RyZWFtUGF5bG9hZCA9IHtcclxuICAgICAgbW9kZWw6IFwibWV0YS1sbGFtYS9NZXRhLUxsYW1hLTMuMS04Qi1JbnN0cnVjdC1UdXJib1wiLFxyXG4gICAgICBtZXNzYWdlcyxcclxuICAgICAgc3RyZWFtOiB0cnVlLFxyXG4gICAgfTtcclxuICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IFRvZ2V0aGVyQUlTdHJlYW0ocGF5bG9hZCk7XHJcblxyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcclxuICAgICAgaGVhZGVyczogbmV3IEhlYWRlcnMoe1xyXG4gICAgICAgIFwiQ2FjaGUtQ29udHJvbFwiOiBcIm5vLWNhY2hlXCIsXHJcbiAgICAgIH0pLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIkVycm9yLiBBbnN3ZXIgc3RyZWFtIGZhaWxlZC5cIiwgeyBzdGF0dXM6IDIwMiB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlRvZ2V0aGVyQUlTdHJlYW0iLCJtYXhEdXJhdGlvbiIsIlBPU1QiLCJyZXF1ZXN0IiwibWVzc2FnZXMiLCJqc29uIiwiY29uc29sZSIsImxvZyIsInBheWxvYWQiLCJtb2RlbCIsInN0cmVhbSIsIlJlc3BvbnNlIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJlIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/getChat/route.ts\n");

/***/ }),

/***/ "(rsc)/./utils/TogetherAIStream.ts":
/*!***********************************!*\
  !*** ./utils/TogetherAIStream.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TogetherAIStream: () => (/* binding */ TogetherAIStream)\n/* harmony export */ });\n/* harmony import */ var eventsource_parser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! eventsource-parser */ \"(rsc)/./node_modules/eventsource-parser/dist/index.js\");\n\nasync function TogetherAIStream(payload) {\n    const encoder = new TextEncoder();\n    const decoder = new TextDecoder();\n    const res = await fetch(\"https://together.helicone.ai/v1/chat/completions\", {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"Helicone-Auth\": `Bearer ${process.env.HELICONE_API_KEY}`,\n            Authorization: `Bearer ${process.env.TOGETHER_API_KEY ?? \"\"}`\n        },\n        method: \"POST\",\n        body: JSON.stringify(payload)\n    });\n    const readableStream = new ReadableStream({\n        async start (controller) {\n            // callback\n            const onParse = (event)=>{\n                if (event.type === \"event\") {\n                    const data = event.data;\n                    controller.enqueue(encoder.encode(data));\n                }\n            };\n            // optimistic error handling\n            if (res.status !== 200) {\n                const data = {\n                    status: res.status,\n                    statusText: res.statusText,\n                    body: await res.text()\n                };\n                console.log(`Error: recieved non-200 status code, ${JSON.stringify(data)}`);\n                controller.close();\n                return;\n            }\n            const parser = (0,eventsource_parser__WEBPACK_IMPORTED_MODULE_0__.createParser)(onParse);\n            for await (const chunk of res.body){\n                parser.feed(decoder.decode(chunk));\n            }\n        }\n    });\n    let counter = 0;\n    const transformStream = new TransformStream({\n        async transform (chunk, controller) {\n            const data = decoder.decode(chunk);\n            // https://beta.openai.com/docs/api-reference/completions/create#completions/create-stream\n            if (data === \"[DONE]\") {\n                controller.terminate();\n                return;\n            }\n            try {\n                const json = JSON.parse(data);\n                const text = json.choices[0].delta?.content || \"\";\n                if (counter < 2 && (text.match(/\\n/) || []).length) {\n                    return;\n                }\n                const payload = {\n                    text: text\n                };\n                controller.enqueue(encoder.encode(`data: ${JSON.stringify(payload)}\\n\\n`));\n                counter++;\n            } catch (e) {\n                controller.error(e);\n            }\n        }\n    });\n    return readableStream.pipeThrough(transformStream);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy9Ub2dldGhlckFJU3RyZWFtLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBSTRCO0FBZ0JyQixlQUFlQyxpQkFBaUJDLE9BQWdDO0lBQ3JFLE1BQU1DLFVBQVUsSUFBSUM7SUFDcEIsTUFBTUMsVUFBVSxJQUFJQztJQUVwQixNQUFNQyxNQUFNLE1BQU1DLE1BQU0sb0RBQW9EO1FBQzFFQyxTQUFTO1lBQ1AsZ0JBQWdCO1lBQ2hCLGlCQUFpQixDQUFDLE9BQU8sRUFBRUMsUUFBUUMsR0FBRyxDQUFDQyxnQkFBZ0IsQ0FBQyxDQUFDO1lBQ3pEQyxlQUFlLENBQUMsT0FBTyxFQUFFSCxRQUFRQyxHQUFHLENBQUNHLGdCQUFnQixJQUFJLEdBQUcsQ0FBQztRQUMvRDtRQUNBQyxRQUFRO1FBQ1JDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ2hCO0lBQ3ZCO0lBRUEsTUFBTWlCLGlCQUFpQixJQUFJQyxlQUFlO1FBQ3hDLE1BQU1DLE9BQU1DLFVBQVU7WUFDcEIsV0FBVztZQUNYLE1BQU1DLFVBQVUsQ0FBQ0M7Z0JBQ2YsSUFBSUEsTUFBTUMsSUFBSSxLQUFLLFNBQVM7b0JBQzFCLE1BQU1DLE9BQU9GLE1BQU1FLElBQUk7b0JBQ3ZCSixXQUFXSyxPQUFPLENBQUN4QixRQUFReUIsTUFBTSxDQUFDRjtnQkFDcEM7WUFDRjtZQUVBLDRCQUE0QjtZQUM1QixJQUFJbkIsSUFBSXNCLE1BQU0sS0FBSyxLQUFLO2dCQUN0QixNQUFNSCxPQUFPO29CQUNYRyxRQUFRdEIsSUFBSXNCLE1BQU07b0JBQ2xCQyxZQUFZdkIsSUFBSXVCLFVBQVU7b0JBQzFCZCxNQUFNLE1BQU1ULElBQUl3QixJQUFJO2dCQUN0QjtnQkFDQUMsUUFBUUMsR0FBRyxDQUNULENBQUMscUNBQXFDLEVBQUVoQixLQUFLQyxTQUFTLENBQUNRLE1BQU0sQ0FBQztnQkFFaEVKLFdBQVdZLEtBQUs7Z0JBQ2hCO1lBQ0Y7WUFFQSxNQUFNQyxTQUFTbkMsZ0VBQVlBLENBQUN1QjtZQUU1QixXQUFXLE1BQU1hLFNBQVM3QixJQUFJUyxJQUFJLENBQVM7Z0JBQ3pDbUIsT0FBT0UsSUFBSSxDQUFDaEMsUUFBUWlDLE1BQU0sQ0FBQ0Y7WUFDN0I7UUFDRjtJQUNGO0lBRUEsSUFBSUcsVUFBVTtJQUNkLE1BQU1DLGtCQUFrQixJQUFJQyxnQkFBZ0I7UUFDMUMsTUFBTUMsV0FBVU4sS0FBSyxFQUFFZCxVQUFVO1lBQy9CLE1BQU1JLE9BQU9yQixRQUFRaUMsTUFBTSxDQUFDRjtZQUM1QiwwRkFBMEY7WUFDMUYsSUFBSVYsU0FBUyxVQUFVO2dCQUNyQkosV0FBV3FCLFNBQVM7Z0JBQ3BCO1lBQ0Y7WUFDQSxJQUFJO2dCQUNGLE1BQU1DLE9BQU8zQixLQUFLNEIsS0FBSyxDQUFDbkI7Z0JBQ3hCLE1BQU1LLE9BQU9hLEtBQUtFLE9BQU8sQ0FBQyxFQUFFLENBQUNDLEtBQUssRUFBRUMsV0FBVztnQkFDL0MsSUFBSVQsVUFBVSxLQUFLLENBQUNSLEtBQUtrQixLQUFLLENBQUMsU0FBUyxFQUFFLEVBQUVDLE1BQU0sRUFBRTtvQkFFbEQ7Z0JBQ0Y7Z0JBQ0EsTUFBTWhELFVBQVU7b0JBQUU2QixNQUFNQTtnQkFBSztnQkFFN0JULFdBQVdLLE9BQU8sQ0FDaEJ4QixRQUFReUIsTUFBTSxDQUFDLENBQUMsTUFBTSxFQUFFWCxLQUFLQyxTQUFTLENBQUNoQixTQUFTLElBQUksQ0FBQztnQkFFdkRxQztZQUNGLEVBQUUsT0FBT1ksR0FBRztnQkFFVjdCLFdBQVc4QixLQUFLLENBQUNEO1lBQ25CO1FBQ0Y7SUFDRjtJQUVBLE9BQU9oQyxlQUFla0MsV0FBVyxDQUFDYjtBQUNwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2xsYW1hLXR1dG9yLy4vdXRpbHMvVG9nZXRoZXJBSVN0cmVhbS50cz83ZmZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XHJcbiAgY3JlYXRlUGFyc2VyLFxyXG4gIFBhcnNlZEV2ZW50LFxyXG4gIFJlY29ubmVjdEludGVydmFsLFxyXG59IGZyb20gXCJldmVudHNvdXJjZS1wYXJzZXJcIjtcclxuXHJcbmV4cG9ydCB0eXBlIENoYXRHUFRBZ2VudCA9IFwidXNlclwiIHwgXCJzeXN0ZW1cIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2hhdEdQVE1lc3NhZ2Uge1xyXG4gIHJvbGU6IENoYXRHUFRBZ2VudDtcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVG9nZXRoZXJBSVN0cmVhbVBheWxvYWQge1xyXG4gIG1vZGVsOiBzdHJpbmc7XHJcbiAgbWVzc2FnZXM6IENoYXRHUFRNZXNzYWdlW107XHJcbiAgc3RyZWFtOiBib29sZWFuO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFRvZ2V0aGVyQUlTdHJlYW0ocGF5bG9hZDogVG9nZXRoZXJBSVN0cmVhbVBheWxvYWQpIHtcclxuICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XHJcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xyXG5cclxuICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaChcImh0dHBzOi8vdG9nZXRoZXIuaGVsaWNvbmUuYWkvdjEvY2hhdC9jb21wbGV0aW9uc1wiLCB7XHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICBcIkhlbGljb25lLUF1dGhcIjogYEJlYXJlciAke3Byb2Nlc3MuZW52LkhFTElDT05FX0FQSV9LRVl9YCxcclxuICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Byb2Nlc3MuZW52LlRPR0VUSEVSX0FQSV9LRVkgPz8gXCJcIn1gLFxyXG4gICAgfSxcclxuICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcmVhZGFibGVTdHJlYW0gPSBuZXcgUmVhZGFibGVTdHJlYW0oe1xyXG4gICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xyXG4gICAgICAvLyBjYWxsYmFja1xyXG4gICAgICBjb25zdCBvblBhcnNlID0gKGV2ZW50OiBQYXJzZWRFdmVudCB8IFJlY29ubmVjdEludGVydmFsKSA9PiB7XHJcbiAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09IFwiZXZlbnRcIikge1xyXG4gICAgICAgICAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XHJcbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoZW5jb2Rlci5lbmNvZGUoZGF0YSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIG9wdGltaXN0aWMgZXJyb3IgaGFuZGxpbmdcclxuICAgICAgaWYgKHJlcy5zdGF0dXMgIT09IDIwMCkge1xyXG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgICAgICBzdGF0dXM6IHJlcy5zdGF0dXMsXHJcbiAgICAgICAgICBzdGF0dXNUZXh0OiByZXMuc3RhdHVzVGV4dCxcclxuICAgICAgICAgIGJvZHk6IGF3YWl0IHJlcy50ZXh0KCksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICAgIGBFcnJvcjogcmVjaWV2ZWQgbm9uLTIwMCBzdGF0dXMgY29kZSwgJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGFyc2VyID0gY3JlYXRlUGFyc2VyKG9uUGFyc2UpO1xyXG4gICAgICBcclxuICAgICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiByZXMuYm9keSBhcyBhbnkpIHtcclxuICAgICAgICBwYXJzZXIuZmVlZChkZWNvZGVyLmRlY29kZShjaHVuaykpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gIH0pO1xyXG5cclxuICBsZXQgY291bnRlciA9IDA7XHJcbiAgY29uc3QgdHJhbnNmb3JtU3RyZWFtID0gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XHJcbiAgICBhc3luYyB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcclxuICAgICAgY29uc3QgZGF0YSA9IGRlY29kZXIuZGVjb2RlKGNodW5rKTtcclxuICAgICAgLy8gaHR0cHM6Ly9iZXRhLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2NvbXBsZXRpb25zL2NyZWF0ZSNjb21wbGV0aW9ucy9jcmVhdGUtc3RyZWFtXHJcbiAgICAgIGlmIChkYXRhID09PSBcIltET05FXVwiKSB7XHJcbiAgICAgICAgY29udHJvbGxlci50ZXJtaW5hdGUoKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5wYXJzZShkYXRhKTtcclxuICAgICAgICBjb25zdCB0ZXh0ID0ganNvbi5jaG9pY2VzWzBdLmRlbHRhPy5jb250ZW50IHx8IFwiXCI7XHJcbiAgICAgICAgaWYgKGNvdW50ZXIgPCAyICYmICh0ZXh0Lm1hdGNoKC9cXG4vKSB8fCBbXSkubGVuZ3RoKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsgdGV4dDogdGV4dCB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcclxuICAgICAgICAgIGVuY29kZXIuZW5jb2RlKGBkYXRhOiAke0pTT04uc3RyaW5naWZ5KHBheWxvYWQpfVxcblxcbmApLFxyXG4gICAgICAgICk7XHJcbiAgICAgICAgY291bnRlcisrO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIHJlYWRhYmxlU3RyZWFtLnBpcGVUaHJvdWdoKHRyYW5zZm9ybVN0cmVhbSk7XHJcbn1cclxuIl0sIm5hbWVzIjpbImNyZWF0ZVBhcnNlciIsIlRvZ2V0aGVyQUlTdHJlYW0iLCJwYXlsb2FkIiwiZW5jb2RlciIsIlRleHRFbmNvZGVyIiwiZGVjb2RlciIsIlRleHREZWNvZGVyIiwicmVzIiwiZmV0Y2giLCJoZWFkZXJzIiwicHJvY2VzcyIsImVudiIsIkhFTElDT05FX0FQSV9LRVkiLCJBdXRob3JpemF0aW9uIiwiVE9HRVRIRVJfQVBJX0tFWSIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwicmVhZGFibGVTdHJlYW0iLCJSZWFkYWJsZVN0cmVhbSIsInN0YXJ0IiwiY29udHJvbGxlciIsIm9uUGFyc2UiLCJldmVudCIsInR5cGUiLCJkYXRhIiwiZW5xdWV1ZSIsImVuY29kZSIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJ0ZXh0IiwiY29uc29sZSIsImxvZyIsImNsb3NlIiwicGFyc2VyIiwiY2h1bmsiLCJmZWVkIiwiZGVjb2RlIiwiY291bnRlciIsInRyYW5zZm9ybVN0cmVhbSIsIlRyYW5zZm9ybVN0cmVhbSIsInRyYW5zZm9ybSIsInRlcm1pbmF0ZSIsImpzb24iLCJwYXJzZSIsImNob2ljZXMiLCJkZWx0YSIsImNvbnRlbnQiLCJtYXRjaCIsImxlbmd0aCIsImUiLCJlcnJvciIsInBpcGVUaHJvdWdoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/TogetherAIStream.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/eventsource-parser"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetChat%2Froute&page=%2Fapi%2FgetChat%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetChat%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();