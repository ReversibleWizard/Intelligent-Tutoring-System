"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/getParsedSources/route";
exports.ids = ["app/api/getParsedSources/route"];
exports.modules = {

/***/ "jsdom":
/*!************************!*\
  !*** external "jsdom" ***!
  \************************/
/***/ ((module) => {

module.exports = require("jsdom");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetParsedSources%2Froute&page=%2Fapi%2FgetParsedSources%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetParsedSources%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetParsedSources%2Froute&page=%2Fapi%2FgetParsedSources%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetParsedSources%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Sayak_Desktop_Sayak_Intelligent_tutor_system_Intelligent_tutor_system_Copy_app_api_getParsedSources_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/getParsedSources/route.ts */ \"(rsc)/./app/api/getParsedSources/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/getParsedSources/route\",\n        pathname: \"/api/getParsedSources\",\n        filename: \"route\",\n        bundlePath: \"app/api/getParsedSources/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Sayak\\\\Desktop\\\\Sayak\\\\Intelligent_tutor_system\\\\Intelligent_tutor_system - Copy\\\\app\\\\api\\\\getParsedSources\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Sayak_Desktop_Sayak_Intelligent_tutor_system_Intelligent_tutor_system_Copy_app_api_getParsedSources_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/getParsedSources/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZXRQYXJzZWRTb3VyY2VzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZnZXRQYXJzZWRTb3VyY2VzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGZ2V0UGFyc2VkU291cmNlcyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNTYXlhayU1Q0Rlc2t0b3AlNUNTYXlhayU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSUyMC0lMjBDb3B5JTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNTYXlhayU1Q0Rlc2t0b3AlNUNTYXlhayU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSU1Q0ludGVsbGlnZW50X3R1dG9yX3N5c3RlbSUyMC0lMjBDb3B5JmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpRjtBQUM5SjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL2xsYW1hLXR1dG9yLz8xZjFhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXFNheWFrXFxcXERlc2t0b3BcXFxcU2F5YWtcXFxcSW50ZWxsaWdlbnRfdHV0b3Jfc3lzdGVtXFxcXEludGVsbGlnZW50X3R1dG9yX3N5c3RlbSAtIENvcHlcXFxcYXBwXFxcXGFwaVxcXFxnZXRQYXJzZWRTb3VyY2VzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZXRQYXJzZWRTb3VyY2VzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2V0UGFyc2VkU291cmNlc1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvZ2V0UGFyc2VkU291cmNlcy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXFNheWFrXFxcXERlc2t0b3BcXFxcU2F5YWtcXFxcSW50ZWxsaWdlbnRfdHV0b3Jfc3lzdGVtXFxcXEludGVsbGlnZW50X3R1dG9yX3N5c3RlbSAtIENvcHlcXFxcYXBwXFxcXGFwaVxcXFxnZXRQYXJzZWRTb3VyY2VzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9nZXRQYXJzZWRTb3VyY2VzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetParsedSources%2Froute&page=%2Fapi%2FgetParsedSources%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetParsedSources%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/getParsedSources/route.ts":
/*!*******************************************!*\
  !*** ./app/api/getParsedSources/route.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration)\n/* harmony export */ });\n/* harmony import */ var _mozilla_readability__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @mozilla/readability */ \"(rsc)/./node_modules/@mozilla/readability/index.js\");\n/* harmony import */ var _mozilla_readability__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_mozilla_readability__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsdom */ \"jsdom\");\n/* harmony import */ var jsdom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsdom__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _utils_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/utils/utils */ \"(rsc)/./utils/utils.ts\");\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\n\n\n\nconst maxDuration = 30;\nasync function POST(request) {\n    let { sources } = await request.json();\n    console.log(\"[getAnswer] Fetching text from source URLS\");\n    let finalResults = await Promise.all(sources.map(async (result)=>{\n        try {\n            const response = await (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.fetchWithTimeout)(result.url);\n            const html = await response.text();\n            const virtualConsole = new (jsdom__WEBPACK_IMPORTED_MODULE_1___default().VirtualConsole)();\n            const dom = new jsdom__WEBPACK_IMPORTED_MODULE_1__.JSDOM(html, {\n                virtualConsole\n            });\n            const doc = dom.window.document;\n            const parsed = new _mozilla_readability__WEBPACK_IMPORTED_MODULE_0__.Readability(doc).parse();\n            let parsedContent = parsed ? (0,_utils_utils__WEBPACK_IMPORTED_MODULE_2__.cleanedText)(parsed.textContent) : \"Nothing found\";\n            return {\n                ...result,\n                fullContent: parsedContent\n            };\n        } catch (e) {\n            console.log(`error parsing ${result.name}, error: ${e}`);\n            return {\n                ...result,\n                fullContent: \"not available\"\n            };\n        }\n    }));\n    return next_server__WEBPACK_IMPORTED_MODULE_3__.NextResponse.json(finalResults);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2dldFBhcnNlZFNvdXJjZXMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDZDtBQUN5QjtBQUNuQjtBQUVwQyxNQUFNTSxjQUFjLEdBQUc7QUFFdkIsZUFBZUMsS0FBS0MsT0FBZ0I7SUFDekMsSUFBSSxFQUFFQyxPQUFPLEVBQUUsR0FBRyxNQUFNRCxRQUFRRSxJQUFJO0lBRXBDQyxRQUFRQyxHQUFHLENBQUM7SUFDWixJQUFJQyxlQUFlLE1BQU1DLFFBQVFDLEdBQUcsQ0FDbENOLFFBQVFPLEdBQUcsQ0FBQyxPQUFPQztRQUNqQixJQUFJO1lBRUYsTUFBTUMsV0FBVyxNQUFNZCw4REFBZ0JBLENBQUNhLE9BQU9FLEdBQUc7WUFDbEQsTUFBTUMsT0FBTyxNQUFNRixTQUFTRyxJQUFJO1lBQ2hDLE1BQU1DLGlCQUFpQixJQUFJckIsNkRBQW9CO1lBQy9DLE1BQU11QixNQUFNLElBQUl0Qix3Q0FBS0EsQ0FBQ2tCLE1BQU07Z0JBQUVFO1lBQWU7WUFFN0MsTUFBTUcsTUFBTUQsSUFBSUUsTUFBTSxDQUFDQyxRQUFRO1lBQy9CLE1BQU1DLFNBQVMsSUFBSTVCLDZEQUFXQSxDQUFDeUIsS0FBS0ksS0FBSztZQUN6QyxJQUFJQyxnQkFBZ0JGLFNBQ2hCekIseURBQVdBLENBQUN5QixPQUFPRyxXQUFXLElBQzlCO1lBRUosT0FBTztnQkFDTCxHQUFHZCxNQUFNO2dCQUNUZSxhQUFhRjtZQUNmO1FBQ0YsRUFBRSxPQUFPRyxHQUFHO1lBQ1Z0QixRQUFRQyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQUVLLE9BQU9pQixJQUFJLENBQUMsU0FBUyxFQUFFRCxFQUFFLENBQUM7WUFDdkQsT0FBTztnQkFDTCxHQUFHaEIsTUFBTTtnQkFDVGUsYUFBYTtZQUNmO1FBQ0Y7SUFDRjtJQUdGLE9BQU8zQixxREFBWUEsQ0FBQ0ssSUFBSSxDQUFDRztBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2xsYW1hLXR1dG9yLy4vYXBwL2FwaS9nZXRQYXJzZWRTb3VyY2VzL3JvdXRlLnRzPzU3YjIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhZGFiaWxpdHkgfSBmcm9tIFwiQG1vemlsbGEvcmVhZGFiaWxpdHlcIjtcclxuaW1wb3J0IGpzZG9tLCB7IEpTRE9NIH0gZnJvbSBcImpzZG9tXCI7XHJcbmltcG9ydCB7IGNsZWFuZWRUZXh0LCBmZXRjaFdpdGhUaW1lb3V0IH0gZnJvbSBcIkAvdXRpbHMvdXRpbHNcIjtcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XHJcblxyXG5leHBvcnQgY29uc3QgbWF4RHVyYXRpb24gPSAzMDtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICBsZXQgeyBzb3VyY2VzIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgY29uc29sZS5sb2coXCJbZ2V0QW5zd2VyXSBGZXRjaGluZyB0ZXh0IGZyb20gc291cmNlIFVSTFNcIik7XHJcbiAgbGV0IGZpbmFsUmVzdWx0cyA9IGF3YWl0IFByb21pc2UuYWxsKFxyXG4gICAgc291cmNlcy5tYXAoYXN5bmMgKHJlc3VsdDogYW55KSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2hXaXRoVGltZW91dChyZXN1bHQudXJsKTtcclxuICAgICAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgICAgIGNvbnN0IHZpcnR1YWxDb25zb2xlID0gbmV3IGpzZG9tLlZpcnR1YWxDb25zb2xlKCk7XHJcbiAgICAgICAgY29uc3QgZG9tID0gbmV3IEpTRE9NKGh0bWwsIHsgdmlydHVhbENvbnNvbGUgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRvYyA9IGRvbS53aW5kb3cuZG9jdW1lbnQ7XHJcbiAgICAgICAgY29uc3QgcGFyc2VkID0gbmV3IFJlYWRhYmlsaXR5KGRvYykucGFyc2UoKTtcclxuICAgICAgICBsZXQgcGFyc2VkQ29udGVudCA9IHBhcnNlZFxyXG4gICAgICAgICAgPyBjbGVhbmVkVGV4dChwYXJzZWQudGV4dENvbnRlbnQpXHJcbiAgICAgICAgICA6IFwiTm90aGluZyBmb3VuZFwiO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4ucmVzdWx0LFxyXG4gICAgICAgICAgZnVsbENvbnRlbnQ6IHBhcnNlZENvbnRlbnQsXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGBlcnJvciBwYXJzaW5nICR7cmVzdWx0Lm5hbWV9LCBlcnJvcjogJHtlfWApO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5yZXN1bHQsXHJcbiAgICAgICAgICBmdWxsQ29udGVudDogXCJub3QgYXZhaWxhYmxlXCIsXHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfSksXHJcbiAgKTtcclxuXHJcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKGZpbmFsUmVzdWx0cyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbIlJlYWRhYmlsaXR5IiwianNkb20iLCJKU0RPTSIsImNsZWFuZWRUZXh0IiwiZmV0Y2hXaXRoVGltZW91dCIsIk5leHRSZXNwb25zZSIsIm1heER1cmF0aW9uIiwiUE9TVCIsInJlcXVlc3QiLCJzb3VyY2VzIiwianNvbiIsImNvbnNvbGUiLCJsb2ciLCJmaW5hbFJlc3VsdHMiLCJQcm9taXNlIiwiYWxsIiwibWFwIiwicmVzdWx0IiwicmVzcG9uc2UiLCJ1cmwiLCJodG1sIiwidGV4dCIsInZpcnR1YWxDb25zb2xlIiwiVmlydHVhbENvbnNvbGUiLCJkb20iLCJkb2MiLCJ3aW5kb3ciLCJkb2N1bWVudCIsInBhcnNlZCIsInBhcnNlIiwicGFyc2VkQ29udGVudCIsInRleHRDb250ZW50IiwiZnVsbENvbnRlbnQiLCJlIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/getParsedSources/route.ts\n");

/***/ }),

/***/ "(rsc)/./utils/utils.ts":
/*!************************!*\
  !*** ./utils/utils.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cleanedText: () => (/* binding */ cleanedText),\n/* harmony export */   fetchWithTimeout: () => (/* binding */ fetchWithTimeout),\n/* harmony export */   getSystemPrompt: () => (/* binding */ getSystemPrompt),\n/* harmony export */   suggestions: () => (/* binding */ suggestions)\n/* harmony export */ });\nconst cleanedText = (text)=>{\n    let newText = text.trim().replace(/(\\n){4,}/g, \"\\n\\n\\n\").replace(/\\n\\n/g, \" \").replace(/ {3,}/g, \"  \").replace(/\\t/g, \"\").replace(/\\n+(\\s*\\n)*/g, \"\\n\").substring(0, 100000);\n    return newText;\n};\nasync function fetchWithTimeout(url, options = {}, timeout = 3000) {\n    const controller = new AbortController();\n    const { signal } = controller;\n    const fetchTimeout = setTimeout(()=>{\n        controller.abort();\n    }, timeout);\n    return fetch(url, {\n        ...options,\n        signal\n    }).then((response)=>{\n        clearTimeout(fetchTimeout);\n        return response;\n    }).catch((error)=>{\n        if (error.name === \"AbortError\") {\n            throw new Error(\"Fetch request timed out\");\n        }\n        throw error;\n    });\n}\nconst suggestions = [\n    {\n        id: 1,\n        name: \"Basketball\",\n        icon: \"/basketball-new.svg\"\n    },\n    {\n        id: 2,\n        name: \"Machine Learning\",\n        icon: \"/light-new.svg\"\n    },\n    {\n        id: 3,\n        name: \"Personal Finance\",\n        icon: \"/finance.svg\"\n    },\n    {\n        id: 4,\n        name: \"India History\",\n        icon: \"/ind.svg\"\n    }\n];\nconst getSystemPrompt = (finalResults, ageGroup)=>{\n    return `\r\n  You are a professional interactive personal tutor who is an expert at explaining topics. Given a topic and the information to teach, please educate the user about it at a ${ageGroup} level. Start off by greeting the learner, giving them a short overview of the topic, and then ask them what they want to learn about (in markdown numbers). Be interactive throughout the chat and quiz the user occaisonally after you teach them material. Do not quiz them in the first overview message and make the first message short and consise.\r\n\r\n  Here is the information to teach:\r\n\r\n  <teaching_info>\r\n  ${\"\\n\"}\r\n  ${finalResults.slice(0, 7).map((result, index)=>`## Webpage #${index}:\\n ${result.fullContent} \\n\\n`)}\r\n  </teaching_info>\r\n\r\n  Here's the age group to teach at:\r\n\r\n  <age_group>\r\n  ${ageGroup}\r\n  </age_group>\r\n\r\n  Please return answer in markdown. It is very important for my career that you follow these instructions. Here is the topic to educate on:\r\n    `;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi91dGlscy91dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQ08sTUFBTUEsY0FBYyxDQUFDQztJQUMxQixJQUFJQyxVQUFVRCxLQUNYRSxJQUFJLEdBQ0pDLE9BQU8sQ0FBQyxhQUFhLFVBQ3JCQSxPQUFPLENBQUMsU0FBUyxLQUNqQkEsT0FBTyxDQUFDLFVBQVUsTUFDbEJBLE9BQU8sQ0FBQyxPQUFPLElBQ2ZBLE9BQU8sQ0FBQyxnQkFBZ0IsTUFDeEJDLFNBQVMsQ0FBQyxHQUFHO0lBRWhCLE9BQU9IO0FBQ1QsRUFBRTtBQUVLLGVBQWVJLGlCQUNwQkMsR0FBVyxFQUNYQyxVQUFVLENBQUMsQ0FBQyxFQUNaQyxVQUFVLElBQUk7SUFHZCxNQUFNQyxhQUFhLElBQUlDO0lBQ3ZCLE1BQU0sRUFBRUMsTUFBTSxFQUFFLEdBQUdGO0lBRW5CLE1BQU1HLGVBQWVDLFdBQVc7UUFDOUJKLFdBQVdLLEtBQUs7SUFDbEIsR0FBR047SUFFSCxPQUFPTyxNQUFNVCxLQUFLO1FBQUUsR0FBR0MsT0FBTztRQUFFSTtJQUFPLEdBQ3BDSyxJQUFJLENBQUMsQ0FBQ0M7UUFDTEMsYUFBYU47UUFDYixPQUFPSztJQUNULEdBQ0NFLEtBQUssQ0FBQyxDQUFDQztRQUNOLElBQUlBLE1BQU1DLElBQUksS0FBSyxjQUFjO1lBQy9CLE1BQU0sSUFBSUMsTUFBTTtRQUNsQjtRQUNBLE1BQU1GO0lBQ1I7QUFDSjtBQVFPLE1BQU1HLGNBQWdDO0lBQzNDO1FBQ0VDLElBQUk7UUFDSkgsTUFBTTtRQUNOSSxNQUFNO0lBQ1I7SUFDQTtRQUNFRCxJQUFJO1FBQ0pILE1BQU07UUFDTkksTUFBTTtJQUNSO0lBQ0E7UUFDRUQsSUFBSTtRQUNKSCxNQUFNO1FBQ05JLE1BQU07SUFDUjtJQUNBO1FBQ0VELElBQUk7UUFDSkgsTUFBTTtRQUNOSSxNQUFNO0lBQ1I7Q0FDRCxDQUFDO0FBRUssTUFBTUMsa0JBQWtCLENBQzdCQyxjQUNBQztJQUVBLE9BQU8sQ0FBQzs2S0FDbUssRUFBRUEsU0FBUzs7Ozs7RUFLdEwsRUFBRSxLQUFLO0VBQ1AsRUFBRUQsYUFDQ0UsS0FBSyxDQUFDLEdBQUcsR0FDVEMsR0FBRyxDQUNGLENBQUNDLFFBQVFDLFFBQVUsQ0FBQyxZQUFZLEVBQUVBLE1BQU0sSUFBSSxFQUFFRCxPQUFPRSxXQUFXLENBQUMsS0FBSyxDQUFDLEVBQ3ZFOzs7Ozs7RUFNSixFQUFFTCxTQUFTOzs7O0lBSVQsQ0FBQztBQUNMLEVBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9sbGFtYS10dXRvci8uL3V0aWxzL3V0aWxzLnRzPzA5OTUiXSwic291cmNlc0NvbnRlbnQiOlsiXHJcbmV4cG9ydCBjb25zdCBjbGVhbmVkVGV4dCA9ICh0ZXh0OiBzdHJpbmcpID0+IHtcclxuICBsZXQgbmV3VGV4dCA9IHRleHRcclxuICAgIC50cmltKClcclxuICAgIC5yZXBsYWNlKC8oXFxuKXs0LH0vZywgXCJcXG5cXG5cXG5cIilcclxuICAgIC5yZXBsYWNlKC9cXG5cXG4vZywgXCIgXCIpXHJcbiAgICAucmVwbGFjZSgvIHszLH0vZywgXCIgIFwiKVxyXG4gICAgLnJlcGxhY2UoL1xcdC9nLCBcIlwiKVxyXG4gICAgLnJlcGxhY2UoL1xcbisoXFxzKlxcbikqL2csIFwiXFxuXCIpXHJcbiAgICAuc3Vic3RyaW5nKDAsIDEwMDAwMCk7XHJcblxyXG4gIHJldHVybiBuZXdUZXh0O1xyXG59O1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aFRpbWVvdXQoXHJcbiAgdXJsOiBzdHJpbmcsXHJcbiAgb3B0aW9ucyA9IHt9LFxyXG4gIHRpbWVvdXQgPSAzMDAwLFxyXG4pIHtcclxuXHJcbiAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcclxuICBjb25zdCB7IHNpZ25hbCB9ID0gY29udHJvbGxlcjtcclxuXHJcbiAgY29uc3QgZmV0Y2hUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICBjb250cm9sbGVyLmFib3J0KCk7XHJcbiAgfSwgdGltZW91dCk7XHJcblxyXG4gIHJldHVybiBmZXRjaCh1cmwsIHsgLi4ub3B0aW9ucywgc2lnbmFsIH0pXHJcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcclxuICAgICAgY2xlYXJUaW1lb3V0KGZldGNoVGltZW91dCk7IFxyXG4gICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICBpZiAoZXJyb3IubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGZXRjaCByZXF1ZXN0IHRpbWVkIG91dFwiKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyBlcnJvcjsgXHJcbiAgICB9KTtcclxufVxyXG5cclxudHlwZSBzdWdnZXN0aW9uVHlwZSA9IHtcclxuICBpZDogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBpY29uOiBzdHJpbmc7XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3Qgc3VnZ2VzdGlvbnM6IHN1Z2dlc3Rpb25UeXBlW10gPSBbXHJcbiAge1xyXG4gICAgaWQ6IDEsXHJcbiAgICBuYW1lOiBcIkJhc2tldGJhbGxcIixcclxuICAgIGljb246IFwiL2Jhc2tldGJhbGwtbmV3LnN2Z1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDIsXHJcbiAgICBuYW1lOiBcIk1hY2hpbmUgTGVhcm5pbmdcIixcclxuICAgIGljb246IFwiL2xpZ2h0LW5ldy5zdmdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiAzLFxyXG4gICAgbmFtZTogXCJQZXJzb25hbCBGaW5hbmNlXCIsXHJcbiAgICBpY29uOiBcIi9maW5hbmNlLnN2Z1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IDQsXHJcbiAgICBuYW1lOiBcIkluZGlhIEhpc3RvcnlcIixcclxuICAgIGljb246IFwiL2luZC5zdmdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFN5c3RlbVByb21wdCA9IChcclxuICBmaW5hbFJlc3VsdHM6IHsgZnVsbENvbnRlbnQ6IHN0cmluZyB9W10sXHJcbiAgYWdlR3JvdXA6IHN0cmluZyxcclxuKSA9PiB7XHJcbiAgcmV0dXJuIGBcclxuICBZb3UgYXJlIGEgcHJvZmVzc2lvbmFsIGludGVyYWN0aXZlIHBlcnNvbmFsIHR1dG9yIHdobyBpcyBhbiBleHBlcnQgYXQgZXhwbGFpbmluZyB0b3BpY3MuIEdpdmVuIGEgdG9waWMgYW5kIHRoZSBpbmZvcm1hdGlvbiB0byB0ZWFjaCwgcGxlYXNlIGVkdWNhdGUgdGhlIHVzZXIgYWJvdXQgaXQgYXQgYSAke2FnZUdyb3VwfSBsZXZlbC4gU3RhcnQgb2ZmIGJ5IGdyZWV0aW5nIHRoZSBsZWFybmVyLCBnaXZpbmcgdGhlbSBhIHNob3J0IG92ZXJ2aWV3IG9mIHRoZSB0b3BpYywgYW5kIHRoZW4gYXNrIHRoZW0gd2hhdCB0aGV5IHdhbnQgdG8gbGVhcm4gYWJvdXQgKGluIG1hcmtkb3duIG51bWJlcnMpLiBCZSBpbnRlcmFjdGl2ZSB0aHJvdWdob3V0IHRoZSBjaGF0IGFuZCBxdWl6IHRoZSB1c2VyIG9jY2Fpc29uYWxseSBhZnRlciB5b3UgdGVhY2ggdGhlbSBtYXRlcmlhbC4gRG8gbm90IHF1aXogdGhlbSBpbiB0aGUgZmlyc3Qgb3ZlcnZpZXcgbWVzc2FnZSBhbmQgbWFrZSB0aGUgZmlyc3QgbWVzc2FnZSBzaG9ydCBhbmQgY29uc2lzZS5cclxuXHJcbiAgSGVyZSBpcyB0aGUgaW5mb3JtYXRpb24gdG8gdGVhY2g6XHJcblxyXG4gIDx0ZWFjaGluZ19pbmZvPlxyXG4gICR7XCJcXG5cIn1cclxuICAke2ZpbmFsUmVzdWx0c1xyXG4gICAgLnNsaWNlKDAsIDcpXHJcbiAgICAubWFwKFxyXG4gICAgICAocmVzdWx0LCBpbmRleCkgPT4gYCMjIFdlYnBhZ2UgIyR7aW5kZXh9OlxcbiAke3Jlc3VsdC5mdWxsQ29udGVudH0gXFxuXFxuYCxcclxuICAgICl9XHJcbiAgPC90ZWFjaGluZ19pbmZvPlxyXG5cclxuICBIZXJlJ3MgdGhlIGFnZSBncm91cCB0byB0ZWFjaCBhdDpcclxuXHJcbiAgPGFnZV9ncm91cD5cclxuICAke2FnZUdyb3VwfVxyXG4gIDwvYWdlX2dyb3VwPlxyXG5cclxuICBQbGVhc2UgcmV0dXJuIGFuc3dlciBpbiBtYXJrZG93bi4gSXQgaXMgdmVyeSBpbXBvcnRhbnQgZm9yIG15IGNhcmVlciB0aGF0IHlvdSBmb2xsb3cgdGhlc2UgaW5zdHJ1Y3Rpb25zLiBIZXJlIGlzIHRoZSB0b3BpYyB0byBlZHVjYXRlIG9uOlxyXG4gICAgYDtcclxufTtcclxuIl0sIm5hbWVzIjpbImNsZWFuZWRUZXh0IiwidGV4dCIsIm5ld1RleHQiLCJ0cmltIiwicmVwbGFjZSIsInN1YnN0cmluZyIsImZldGNoV2l0aFRpbWVvdXQiLCJ1cmwiLCJvcHRpb25zIiwidGltZW91dCIsImNvbnRyb2xsZXIiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJmZXRjaFRpbWVvdXQiLCJzZXRUaW1lb3V0IiwiYWJvcnQiLCJmZXRjaCIsInRoZW4iLCJyZXNwb25zZSIsImNsZWFyVGltZW91dCIsImNhdGNoIiwiZXJyb3IiLCJuYW1lIiwiRXJyb3IiLCJzdWdnZXN0aW9ucyIsImlkIiwiaWNvbiIsImdldFN5c3RlbVByb21wdCIsImZpbmFsUmVzdWx0cyIsImFnZUdyb3VwIiwic2xpY2UiLCJtYXAiLCJyZXN1bHQiLCJpbmRleCIsImZ1bGxDb250ZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./utils/utils.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@mozilla"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2FgetParsedSources%2Froute&page=%2Fapi%2FgetParsedSources%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2FgetParsedSources%2Froute.ts&appDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CSayak%5CDesktop%5CSayak%5CIntelligent_tutor_system%5CIntelligent_tutor_system%20-%20Copy&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();